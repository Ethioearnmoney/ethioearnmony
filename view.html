<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Admin Panel</title>
<link rel="icon" type= "image/png" href="logo.png">

<style>
body { font-family: Arial,sans-serif; background:#0f1724; color:#fff; padding:40px; }
h1 { text-align:center; }
table { width:100%; border-collapse: collapse; margin-top:20px; }
th, td { border:1px solid #334155; padding:10px; text-align:left; }
th { background:#1e293b; }
td { background:#0b1220; }
.pending { color:#fbbf24; font-weight:bold; }
.verified { color:#22c55e; font-weight:bold; }
.rejected { color:#ef4444; font-weight:bold; }
button { border:none; color:white; padding:6px 10px; border-radius:5px; cursor:pointer; margin-right:5px; }
.verify-btn { background:#16a34a; }
.reject-btn { background:#dc2626; }
.delete-btn { background:#6b7280; }
</style>
</head>
<body>

<h1>üìã User Management</h1>
<table id="userTable">
<thead>
<tr>
<th>#</th><th>Name</th><th>Phone</th><th>Password</th><th>Telegram Code</th><th>Status</th><th>Action</th>
</tr>
</thead>
<tbody></tbody>
</table>

<script>
const tbody = document.querySelector("#userTable tbody");

function loadUsers() {
  const users = JSON.parse(localStorage.getItem("users") || "[]");
  tbody.innerHTML = "";
  users.forEach((u,i)=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${i+1}</td>
      <td>${u.name}</td>
      <td>${u.phone}</td>
      <td>${u.password}</td>
      <td>${u.telegramCode || "‚Äî"}</td>
      <td class="${u.status.toLowerCase()}">${u.status}</td>
      <td>
        <button class="verify-btn" onclick="updateStatus(${i},'Verified')">‚úÖ Verify</button>
        <button class="reject-btn" onclick="updateStatus(${i},'Rejected')">‚ùå Reject</button>
        <button class="delete-btn" onclick="deleteUser(${i})">üóë Delete</button>
      </td>
    `;
    tbody.appendChild(tr);
  });
}

function updateStatus(index,status){
  const users = JSON.parse(localStorage.getItem("users")||"[]");
  users[index].status=status;
  localStorage.setItem("users",JSON.stringify(users));
  loadUsers();
}

function deleteUser(index){
  const users = JSON.parse(localStorage.getItem("users")||"[]");
  users.splice(index,1);
  localStorage.setItem("users",JSON.stringify(users));
  loadUsers();
}

loadUsers();
</script>
</body>
</html>
